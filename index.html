<!DOCTYPE html>
<html lang="hu">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sorsol√°s</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div>
        <label>Box Range (from-to):<br />
            <input type="text" id="rangeBox" value="1-100" />
        </label>
    </div>
    <br />
    <div class="numbers-container">
        <span id="box"></span>
    </div>
    <br />
    <button id="stopBtn">Stop</button>

    <script>
        function parseRange(rangeStr) {
            const m = rangeStr.match(/^\s*(\d+)\s*-\s*(\d+)\s*$/);
            if (!m) return [];
            const from = parseInt(m[1], 10);
            const to = parseInt(m[2], 10);
            if (from > to) return [];
            return Array.from({ length: to - from + 1 }, (_, i) => (from + i).toString());
        }

        let params = parseRange(document.getElementById('rangeBox').value);
        let index = 0;
        let interval;
        let spinning = false;
        const box = document.getElementById('box');
        const stopBtn = document.getElementById('stopBtn');
        const input = document.getElementById('rangeBox');

        function readInputs() {
            params = parseRange(input.value);
            index = 0;
            box.textContent = params.length ? params[index] : '';
        }

        function startSpinning() {
            readInputs();
            spinning = true;
            interval = setInterval(() => {
                if (params.length) {
                    index = (index + 1) % params.length;
                    box.textContent = params[index];
                }
            }, 100);
        }

        stopBtn.addEventListener('click', () => {
            if (spinning) {
                clearInterval(interval);
                spinning = false;
                stopBtn.textContent = 'Start Again';
            } else {
                stopBtn.textContent = 'Stop';
                startSpinning();
            }
        });

        input.addEventListener('change', readInputs);

        readInputs();
        startSpinning();
    </script>
</body>

</html>